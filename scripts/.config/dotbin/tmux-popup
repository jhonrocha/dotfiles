#!/usr/bin/env bash

session=$1
window=$2
path=$3

if [[ $session = "float" ]]; then
  tmux detach-client
else
  tmux popup -xC -y 50 -w 100% -h 99% -E "(tmux attach -t float:$window &>/dev/null) || (tmux new-window -t float: -n $window -c $path &>/dev/null && tmux attach -t float:$window &>/dev/null) || (tmux new-session -s float -n $window -c $path &>/dev/null)"
fi
